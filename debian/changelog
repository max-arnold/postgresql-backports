postgresql-9.2 (9.2.4-1.pgdg12.4+1~0) precise-pgdg; urgency=low

  * Add pgdg suffix

 -- Max Arnold <arnold.maxim@gmail.com>  Sat, 13 Jul 2013 22:50:35 +0700

postgresql-9.2 (9.2.4-1.pgdg12.4+0) precise; urgency=low

  * Rebuild for PPA (version downgraded to not shadow apt.postgresql.org)

 -- Max Arnold <arnold.maxim@gmail.com>  Wed, 10 Jul 2013 20:32:23 +0700

postgresql-9.2 (9.2.4-1.pgdg12.4+1) precise-pgdg; urgency=low

  * Rebuild for precise-pgdg (jenkins-postgresql-9.2-source-
    distribution=precise-20, bzr revision 384)

 -- apt.postgresql.org autobuilder <myon@debian.org>  Wed, 03 Apr 2013 14:12:11 +0200

postgresql-9.2 (9.2.4-1) experimental; urgency=low

  * New upstream security/bug fix release:
    - Fix insecure parsing of server command-line switches.
      A connection request containing a database name that begins with
      "-" could be crafted to damage or destroy files within the server's
      data directory, even if the request is eventually rejected.
      [CVE-2013-1899]
    - Reset OpenSSL randomness state in each postmaster child process.
      This avoids a scenario wherein random numbers generated by
      "contrib/pgcrypto" functions might be relatively easy for another
      database user to guess. The risk is only significant when the
      postmaster is configured with ssl = on but most connections don't
      use SSL encryption. [CVE-2013-1900]
    - Make REPLICATION privilege checks test current user not
      authenticated user.
      An unprivileged database user could exploit this mistake to call
      pg_start_backup() or pg_stop_backup(), thus possibly interfering
      with creation of routine backups. [CVE-2013-1901]
    - Fix GiST indexes to not use "fuzzy" geometric comparisons when it's
      not appropriate to do so.
      The core geometric types perform comparisons using "fuzzy"
      equality, but gist_box_same must do exact comparisons, else GiST
      indexes using it might become inconsistent. After installing this
      update, users should "REINDEX" any GiST indexes on box, polygon,
      circle, or point columns, since all of these use gist_box_same.
    - Fix erroneous range-union and penalty logic in GiST indexes that
      use "contrib/btree_gist" for variable-width data types, that is
      text, bytea, bit, and numeric columns.
      These errors could result in inconsistent indexes in which some
      keys that are present would not be found by searches, and also in
      useless index bloat. Users are advised to "REINDEX" such indexes
      after installing this update.
    - Fix bugs in GiST page splitting code for multi-column indexes.
      These errors could result in inconsistent indexes in which some
      keys that are present would not be found by searches, and also in
      indexes that are unnecessarily inefficient to search. Users are
      advised to "REINDEX" multi-column GiST indexes after installing
      this update.
    - See HISTORY/changelog.gz for details about other bug fixes.
  * Bump Standards-Version to 3.9.4 (no changes necessary).

 -- Martin Pitt <mpitt@debian.org>  Tue, 02 Apr 2013 10:13:55 +0200

postgresql-9.2 (9.2.3-1) experimental; urgency=medium

  [ Martin Pitt ]
  * Add missing docbook build dependency. (Closes: #697618)

  [ Christoph Berg ]
  * New upstream version.
    + Prevent execution of enum_recv from SQL
      The function was misdeclared, allowing a simple SQL command to crash the
      server.  In principle an attacker might be able to use it to examine the
      contents of server memory.  Our thanks to Sumit Soni (via Secunia SVCRP)
      for reporting this issue. (CVE-2013-0255)
  * debian/rules: Remove the temporary patches from pg_regress, and teach
    pg_regress to support unix socket dirs in --host.

 -- Christoph Berg <myon@debian.org>  Tue, 05 Feb 2013 10:01:28 +0100

postgresql-9.2 (9.2.2-2) experimental; urgency=low

  [ Martin Pitt ]
  * Add 03-python-includedirs.patch: Detect both python3.3 include locations.
    Thanks Dmitrijs Ledkovs!
  * debian/rules: Only build the error codes and the plpython subtree for the
    "python3" flavor, to cut down build time.

  [ Christoph Berg ]
  * debian/tests: Moved autopkgtest integration here from postgresql-common.

 -- Martin Pitt <mpitt@debian.org>  Sun, 06 Jan 2013 18:16:52 +0100

postgresql-9.2 (9.2.2-1) experimental; urgency=low

  * New upstream bug fix release. See HISTORY/changelog.gz details.
  * debian/control, debian/rules: Build against krb5-multidev, to allow use
    while heimdal-dev is installed. Thanks Jelmer Vernooij! (Closes: #664881)
  * debian/control: Force p-client to use libpq5 from at least our upstream
    version, as -client tends to use private ABI and behaviour that is not
    covered by symbols files.

 -- Martin Pitt <mpitt@debian.org>  Mon, 03 Dec 2012 22:38:48 +0000

postgresql-9.2 (9.2.1-1) experimental; urgency=low

  [ Martin Pitt ]
  * New upstream bug fix release:
    - Fix persistence marking of shared buffers during WAL replay.
      This mistake can result in buffers not being written out during
      checkpoints, resulting in data corruption if the server later
      crashes without ever having written those buffers. Corruption can
      occur on any server following crash recovery, but it is
      significantly more likely to occur on standby slave servers since
      those perform much more WAL replay. There is a low probability of
      corruption of btree and GIN indexes. There is a much higher
      probability of corruption of table "visibility maps", which might
      lead to wrong answers from index-only scans. Table data proper
      cannot be corrupted by this bug.
      While no index corruption due to this bug is known to have occurred
      in the field, as a precautionary measure it is recommended that
      production installations "REINDEX" all btree and GIN indexes at a
      convenient time after upgrading to 9.2.1.
      Also, it is recommended to perform a "VACUUM" of all tables while
      having vacuum_freeze_table_age set to zero. This will fix any
      incorrect visibility map data. vacuum_cost_delay can be adjusted to
      reduce the performance impact of vacuuming, while causing it to
      take longer to finish.
    - See HISTORY/changelog.gz for other bug fixes.
  * debian/rules: Compress all binaries with xz. Thanks Cyril Brulebois!
    (Closes: #688721)

  [ Christoph Berg ]
  * Bump postgresql-common dependency to >= 135~, we need the fixed manpages
    alternatives handling. Remove the redundant dependency of the -contrib
    package on postgresql-common.

 -- Martin Pitt <mpitt@debian.org>  Tue, 25 Sep 2012 05:45:33 +0200

postgresql-9.2 (9.2.0-1) experimental; urgency=low

  * New upstream version: Official 9.2 release.
  * debian/rules: Re-enable hardening functions when hardening-wrapper is not
    installed. Use "hardening=all", but disable "pie" (as that's not
    compatible with -fPIC) and add -pie to CFLAGS explicitly. Also drop the
    explicit "-Wl,-z,now" linker option, as this is now implied with "all".
    (see LP #1039618)

 -- Martin Pitt <mpitt@debian.org>  Fri, 07 Sep 2012 07:07:07 +0200

postgresql-9.2 (9.2~rc1-1) experimental; urgency=low

  [ Christoph Berg ]
  * Update watch file to actually look for 9.2.

  [ Martin Pitt ]
  * First 9.2 release candidate.

 -- Martin Pitt <mpitt@debian.org>  Mon, 27 Aug 2012 14:26:49 +0200

postgresql-9.2 (9.2~beta4-1) experimental; urgency=low

  * Fourth 9.2 beta release.

 -- Martin Pitt <mpitt@debian.org>  Fri, 17 Aug 2012 14:46:06 +0200

postgresql-9.2 (9.2~beta3-1) experimental; urgency=low

  [ Christoph Berg ]
  * Third 9.2 beta release.
  * Some cosmetic changes to control and rules file.
  * Remove the beta1 suffix from 9.2~beta1 in symbols files as this was the
    first version.
  * Remove beta2 symbols from libpq5: PQgetRowProcessor@Base,
    PQsetRowProcessor@Base, PQskipResult@Base.
  * Add myself to Uploaders.
  * debian/source/options: Ignore .bzr-builddeb/default.conf so bzr checkouts
    can be built using dpkg-buildpackage.
  * postgresql-9.2.preinst: Remove obsolete code for transition from
    per-version init script which was never shipped in postgresql-9.2. Also,
    remove duplicate #DEBHELPER# token.

  [ Peter Eisentraut ]
  * Move pg_basebackup man page to -client-9.2, where the program is.

 -- Christoph Berg <myon@debian.org>  Tue, 07 Aug 2012 14:25:41 +0200

postgresql-9.2 (9.2~beta2-1) experimental; urgency=low

  [ Peter Eisentraut ]
  * debian/copyright: Update, fix, and simplify.
  * Add debian/source/options: Ignore test suite .sql files, to fix building
    twice in a row.

  [ Martin Pitt ]
  * Second 9.2 beta release.
  * Move pg_basebackup *.mo files to -client-9.2. Thanks to Peter Eisentraut
    for spotting this.
  * Move pg_receivexlog into -client-9.2. It can be used without the server
    being installed.
  * debian/control: Move bzr branches to alioth, so that other members of
    pkg-postgresql can commit. Update Vcs-* tags.
  * debian/control: Set Maintainer: to pkg-postgresql group, and move myself
    to Uploaders:.

 -- Martin Pitt <mpitt@debian.org>  Mon, 04 Jun 2012 06:56:59 +0200

postgresql-9.2 (9.2~beta1-1) experimental; urgency=low

  * First 9.2 beta release. Packaging based on 9.1 branch.

 -- Martin Pitt <mpitt@debian.org>  Tue, 15 May 2012 12:58:24 +0200
